<html>
    <head>
        <title>Movie Recommender</title>
        <script src="/socket.io/socket.io.js"></script>
    </head>

    <body>
        <h3>Login</h3> 
        Username: <input type="input" id="username_login">
        Password: <input type="password" id="password_login">
                  <input type="button" id="loign_button" value="Login" onclick="login()">
        <br>

        <h3>Register</h3>
        Username: <input type="input" id="username_register">
        Password: <input type="password" id="password_register">
                  <input type="button" id="register_button" value="Register" onclick="register()">

        
        <script>
            let socket = io();

            socket.on('login success', function() {
                location.href = "frontpage.html";
            });

            socket.on('login failed', function(){
                alert("Forkert brugernavn eller kodeord");
            });

            socket.on('register success', function() {
                alert("Din bruger blev oprettet!");
            });

            socket.on('register failed', function() {
                alert("Det brugernavn er allerede taget!");
            });

            
            function login () {
                let userinfo = {
                    name : document.getElementById("username_login").value,
                    pass : document.getElementById("password_login").value
                }

                socket.emit('login',userinfo);
            }


            function register() {
                let userinfo = {
                    name : document.getElementById("username_register").value,
                    pass : document.getElementById("password_register").value
                }
                socket.emit('register', userinfo)
            }
        </script>

    </body>
</html>